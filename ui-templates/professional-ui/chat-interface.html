<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InfluencerConnect - Professional Chat Interface</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #f8fafc;
            color: #1e293b;
            height: 100vh;
            overflow: hidden;
        }

        .chat-container {
            display: flex;
            height: 100vh;
            max-width: 1920px;
            margin: 0 auto;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        }

        /* Left Sidebar */
        .sidebar-left {
            width: 320px;
            background-color: #ffffff;
            border-right: 1px solid #e2e8f0;
            display: flex;
            flex-direction: column;
            min-width: 300px;
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid #e2e8f0;
            background-color: #1e3a8a;
            color: white;
        }

        .sidebar-header h2 {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 12px;
        }

        .search-bar {
            position: relative;
            margin-bottom: 16px;
        }

        .search-bar input {
            width: 100%;
            padding: 10px 12px 10px 36px;
            border: 1px solid #cbd5e1;
            border-radius: 8px;
            font-size: 14px;
            background-color: rgba(255, 255, 255, 0.1);
            color: white;
            outline: none;
        }

        .search-bar input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .search-bar::before {
            content: 'üîç';
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: rgba(255, 255, 255, 0.7);
        }

        .filter-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
        }

        .filter-tab {
            padding: 6px 12px;
            font-size: 12px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 6px;
            background-color: transparent;
            color: rgba(255, 255, 255, 0.8);
            cursor: pointer;
            transition: all 0.2s;
        }

        .filter-tab.active {
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
        }

        .conversations-list {
            flex: 1;
            overflow-y: auto;
            padding: 12px;
        }

        .conversation-item {
            padding: 12px;
            margin-bottom: 8px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
        }

        .conversation-item:hover {
            background-color: #f1f5f9;
        }

        .conversation-item.active {
            background-color: #e0f2fe;
            border-left: 4px solid #1e3a8a;
        }

        .conversation-item.unread {
            background-color: #fef3c7;
        }

        .conversation-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .conversation-user {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #1e3a8a;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 14px;
            position: relative;
        }

        .avatar img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
        }

        .status-indicator {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            border: 2px solid white;
        }

        .status-indicator.online {
            background-color: #22c55e;
        }

        .status-indicator.offline {
            background-color: #6b7280;
        }

        .conversation-info {
            flex: 1;
        }

        .conversation-name {
            font-weight: 600;
            font-size: 14px;
            color: #1e293b;
        }

        .conversation-type {
            font-size: 12px;
            color: #6b7280;
            margin-top: 2px;
        }

        .conversation-meta {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .conversation-time {
            font-size: 12px;
            color: #6b7280;
        }

        .unread-count {
            background-color: #dc2626;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
        }

        .conversation-preview {
            font-size: 13px;
            color: #6b7280;
            margin-top: 4px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        /* Main Chat Area */
        .chat-main {
            flex: 1;
            display: flex;
            flex-direction: column;
            background-color: #ffffff;
        }

        .chat-header {
            padding: 16px 24px;
            background-color: #ffffff;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .chat-header-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .chat-header-info {
            flex: 1;
        }

        .chat-header-name {
            font-size: 18px;
            font-weight: 600;
            color: #1e293b;
        }

        .chat-header-status {
            font-size: 14px;
            color: #6b7280;
            margin-top: 2px;
        }

        .chat-header-actions {
            display: flex;
            gap: 8px;
        }

        .header-action {
            padding: 8px 12px;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            background-color: transparent;
            color: #6b7280;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
        }

        .header-action:hover {
            background-color: #f1f5f9;
            color: #1e293b;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 24px;
            background-color: #f8fafc;
            position: relative;
        }

        .message-group {
            margin-bottom: 24px;
        }

        .message-date {
            text-align: center;
            font-size: 12px;
            color: #6b7280;
            margin-bottom: 16px;
            padding: 8px 16px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 16px;
            display: inline-block;
            width: auto;
            margin-left: 50%;
            transform: translateX(-50%);
        }

        .message {
            display: flex;
            margin-bottom: 16px;
            gap: 12px;
            align-items: flex-start;
        }

        .message.sent {
            flex-direction: row-reverse;
            justify-content: flex-start;
        }

        .message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: #1e3a8a;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 12px;
            flex-shrink: 0;
        }

        .message-avatar img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
        }

        .message-content {
            flex: 1;
            max-width: 70%;
        }

        .message-bubble {
            padding: 12px 16px;
            border-radius: 16px;
            font-size: 14px;
            line-height: 1.5;
            position: relative;
            word-wrap: break-word;
        }

        .message.received .message-bubble {
            background-color: #ffffff;
            border: 1px solid #e2e8f0;
            color: #1e293b;
        }

        .message.sent .message-bubble {
            background-color: #1e3a8a;
            color: white;
        }

        .message-meta {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 6px;
            font-size: 12px;
            color: #6b7280;
        }

        .message.sent .message-meta {
            justify-content: flex-end;
        }

        .message-time {
            font-size: 12px;
            color: #6b7280;
        }

        .message-status {
            font-size: 12px;
            color: #6b7280;
        }

        .message-status.read {
            color: #22c55e;
        }

        .message-file {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 12px;
            margin-top: 8px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .message.received .message-file {
            background-color: #f1f5f9;
        }

        .file-icon {
            width: 32px;
            height: 32px;
            border-radius: 6px;
            background-color: #1e3a8a;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 14px;
        }

        .file-info {
            flex: 1;
        }

        .file-name {
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 2px;
        }

        .file-size {
            font-size: 12px;
            color: #6b7280;
        }

        .system-message {
            text-align: center;
            font-size: 13px;
            color: #6b7280;
            margin: 16px 0;
            padding: 12px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 8px;
        }

        .campaign-message {
            background-color: #fef3c7;
            border: 1px solid #fbbf24;
            border-radius: 12px;
            padding: 16px;
            margin: 16px 0;
        }

        .campaign-message h4 {
            color: #92400e;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .campaign-message p {
            color: #78350f;
            font-size: 14px;
            margin-bottom: 12px;
        }

        .campaign-actions {
            display: flex;
            gap: 8px;
        }

        .campaign-action {
            padding: 6px 12px;
            border: 1px solid #d97706;
            border-radius: 6px;
            background-color: transparent;
            color: #d97706;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.2s;
        }

        .campaign-action:hover {
            background-color: #d97706;
            color: white;
        }

        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-left: 44px;
            margin-bottom: 16px;
        }

        .typing-dots {
            display: flex;
            gap: 4px;
            padding: 12px 16px;
            background-color: #ffffff;
            border: 1px solid #e2e8f0;
            border-radius: 16px;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #6b7280;
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.5;
            }
            30% {
                transform: translateY(-10px);
                opacity: 1;
            }
        }

        .chat-input {
            background-color: #ffffff;
            border-top: 1px solid #e2e8f0;
            padding: 16px 24px;
        }

        .input-container {
            display: flex;
            align-items: flex-end;
            gap: 12px;
            background-color: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 12px;
        }

        .input-actions {
            display: flex;
            gap: 8px;
        }

        .input-action {
            width: 32px;
            height: 32px;
            border: none;
            background-color: transparent;
            color: #6b7280;
            cursor: pointer;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            transition: all 0.2s;
        }

        .input-action:hover {
            background-color: #e2e8f0;
            color: #1e293b;
        }

        .message-input {
            flex: 1;
            border: none;
            outline: none;
            background-color: transparent;
            font-size: 14px;
            resize: none;
            max-height: 120px;
            min-height: 20px;
            line-height: 1.5;
        }

        .send-button {
            width: 32px;
            height: 32px;
            border: none;
            background-color: #1e3a8a;
            color: white;
            cursor: pointer;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            transition: all 0.2s;
        }

        .send-button:hover {
            background-color: #1e40af;
        }

        .send-button:disabled {
            background-color: #cbd5e1;
            cursor: not-allowed;
        }

        /* Right Sidebar */
        .sidebar-right {
            width: 300px;
            background-color: #ffffff;
            border-left: 1px solid #e2e8f0;
            display: flex;
            flex-direction: column;
            transition: all 0.3s;
        }

        .sidebar-right.collapsed {
            width: 0;
            overflow: hidden;
        }

        .sidebar-right-header {
            padding: 20px;
            background-color: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
        }

        .sidebar-right-content {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }

        .contact-info {
            margin-bottom: 24px;
        }

        .contact-avatar {
            width: 64px;
            height: 64px;
            border-radius: 50%;
            background-color: #1e3a8a;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 24px;
            margin: 0 auto 16px;
        }

        .contact-name {
            text-align: center;
            font-size: 18px;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 4px;
        }

        .contact-title {
            text-align: center;
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 16px;
        }

        .contact-actions {
            display: flex;
            gap: 8px;
            justify-content: center;
            margin-bottom: 16px;
        }

        .contact-action {
            padding: 8px 16px;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            background-color: transparent;
            color: #6b7280;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.2s;
        }

        .contact-action:hover {
            background-color: #1e3a8a;
            color: white;
            border-color: #1e3a8a;
        }

        .info-section {
            margin-bottom: 24px;
        }

        .info-section h3 {
            font-size: 16px;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 12px;
        }

        .info-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #f1f5f9;
        }

        .info-label {
            font-size: 14px;
            color: #6b7280;
        }

        .info-value {
            font-size: 14px;
            color: #1e293b;
            font-weight: 500;
        }

        .campaign-status {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .campaign-status.active {
            background-color: #dcfce7;
            color: #166534;
        }

        .campaign-status.pending {
            background-color: #fef3c7;
            color: #92400e;
        }

        .campaign-status.completed {
            background-color: #e0f2fe;
            color: #0c4a6e;
        }

        .shared-files {
            margin-bottom: 24px;
        }

        .file-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            margin-bottom: 8px;
        }

        .file-item:hover {
            background-color: #f8fafc;
        }

        .file-item-icon {
            width: 32px;
            height: 32px;
            border-radius: 6px;
            background-color: #1e3a8a;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
        }

        .file-item-info {
            flex: 1;
        }

        .file-item-name {
            font-size: 14px;
            font-weight: 500;
            color: #1e293b;
        }

        .file-item-size {
            font-size: 12px;
            color: #6b7280;
        }

        .toggle-sidebar {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            border: none;
            background-color: #1e3a8a;
            color: white;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            z-index: 1000;
            transition: all 0.2s;
        }

        .toggle-sidebar:hover {
            background-color: #1e40af;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .sidebar-left {
                width: 100%;
                position: fixed;
                left: -100%;
                top: 0;
                height: 100vh;
                z-index: 1000;
                transition: left 0.3s;
            }

            .sidebar-left.mobile-open {
                left: 0;
            }

            .sidebar-right {
                display: none;
            }

            .chat-main {
                width: 100%;
            }

            .mobile-menu-toggle {
                display: block;
                position: fixed;
                top: 20px;
                left: 20px;
                width: 40px;
                height: 40px;
                border: none;
                background-color: #1e3a8a;
                color: white;
                border-radius: 50%;
                cursor: pointer;
                z-index: 1001;
            }
        }

        @media (min-width: 769px) {
            .mobile-menu-toggle {
                display: none;
            }
        }

        /* Emoji Picker */
        .emoji-picker {
            position: absolute;
            bottom: 100%;
            left: 0;
            width: 280px;
            height: 200px;
            background-color: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            padding: 12px;
            display: none;
            z-index: 1000;
        }

        .emoji-picker.show {
            display: block;
        }

        .emoji-grid {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 4px;
            height: 100%;
            overflow-y: auto;
        }

        .emoji-item {
            width: 32px;
            height: 32px;
            border: none;
            background-color: transparent;
            cursor: pointer;
            border-radius: 4px;
            font-size: 18px;
            transition: all 0.2s;
        }

        .emoji-item:hover {
            background-color: #f1f5f9;
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }

        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* Notification styles */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #1e3a8a;
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 14px;
            z-index: 1000;
            transform: translateX(100%);
            transition: transform 0.3s;
        }

        .notification.show {
            transform: translateX(0);
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <!-- Left Sidebar -->
        <div class="sidebar-left" id="sidebarLeft">
            <div class="sidebar-header">
                <h2>Messages</h2>
                <div class="search-bar">
                    <input type="text" placeholder="Search conversations..." id="searchInput">
                </div>
                <div class="filter-tabs">
                    <button class="filter-tab active" data-filter="all">All</button>
                    <button class="filter-tab" data-filter="business">Business</button>
                    <button class="filter-tab" data-filter="influencer">Influencer</button>
                    <button class="filter-tab" data-filter="unread">Unread</button>
                </div>
            </div>
            <div class="conversations-list" id="conversationsList">
                <!-- Conversations will be populated by JavaScript -->
            </div>
        </div>

        <!-- Main Chat Area -->
        <div class="chat-main">
            <div class="chat-header">
                <div class="chat-header-left">
                    <div class="avatar">
                        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiMxZTNhOGEiLz4KPHN2ZyB4PSI4IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiA0VjJBMTAgMTAgMCAwIDAgMiAxMkgwQTEyIDEyIDAgMCAxIDEyIDBWMloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0yMSAxMkExMiAxMiAwIDAgMSAxMiAyMVYxOUExMCAxMCAwIDAgMCAyMiAxMkgyMVoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0xMiAxNEExMiAxMiAwIDAgMSAwIDJWMEExNiAxNiAwIDAgMCAxNiAxNkgxNEExMiAxMiAwIDAgMSAwIDJWMEExNiAxNiAwIDAgMCAxNiAxNkgxNEExMiAxMiAwIDAgMSAwIDJWMEExNiAxNiAwIDAgMCAxNiAxNkgxNFoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo8L3N2Zz4K" alt="Avatar">
                    </div>
                    <div class="chat-header-info">
                        <div class="chat-header-name" id="chatHeaderName">Select a conversation</div>
                        <div class="chat-header-status" id="chatHeaderStatus">Choose someone to start messaging</div>
                    </div>
                </div>
                <div class="chat-header-actions">
                    <button class="header-action" onclick="searchMessages()">üîç Search</button>
                    <button class="header-action" onclick="viewProfile()">üë§ Profile</button>
                    <button class="header-action" onclick="scheduleMeeting()">üìÖ Schedule</button>
                    <button class="header-action" onclick="toggleRightSidebar()">‚ÑπÔ∏è Details</button>
                </div>
            </div>
            
            <div class="chat-messages" id="chatMessages">
                <div class="system-message">
                    Select a conversation to start messaging
                </div>
            </div>

            <div class="chat-input">
                <div class="input-container">
                    <div class="input-actions">
                        <button class="input-action" onclick="toggleEmojiPicker()" title="Add emoji">üòä</button>
                        <button class="input-action" onclick="attachFile()" title="Attach file">üìé</button>
                        <div class="emoji-picker" id="emojiPicker">
                            <div class="emoji-grid" id="emojiGrid">
                                <!-- Emojis will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                    <textarea class="message-input" id="messageInput" placeholder="Type a message..." rows="1"></textarea>
                    <button class="send-button" onclick="sendMessage()" id="sendButton">‚û§</button>
                </div>
            </div>
        </div>

        <!-- Right Sidebar -->
        <div class="sidebar-right" id="sidebarRight">
            <div class="sidebar-right-header">
                <h3>Contact Details</h3>
            </div>
            <div class="sidebar-right-content" id="rightSidebarContent">
                <!-- Content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">‚ò∞</button>

    <!-- Toggle Right Sidebar Button -->
    <button class="toggle-sidebar" onclick="toggleRightSidebar()">‚ÑπÔ∏è</button>

    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <script>
        // Sample data for conversations
        const conversations = [
            {
                id: 1,
                name: "Sarah Johnson",
                type: "Influencer",
                avatar: "SJ",
                status: "online",
                lastMessage: "I've reviewed the campaign brief and I'm excited to work on this project!",
                lastMessageTime: "2 min ago",
                unreadCount: 2,
                isUnread: true,
                campaign: {
                    name: "Summer Fashion Collection",
                    status: "active",
                    budget: "$5,000",
                    deadline: "July 15, 2024"
                },
                messages: [
                    {
                        id: 1,
                        sender: "business",
                        content: "Hi Sarah! We're excited to collaborate with you on our summer fashion campaign. We've prepared a detailed brief for your review.",
                        timestamp: "10:30 AM",
                        status: "read",
                        date: "Today"
                    },
                    {
                        id: 2,
                        sender: "business",
                        content: "The campaign focuses on sustainable fashion for the 18-35 age group. We're looking for authentic content that showcases our eco-friendly materials.",
                        timestamp: "10:31 AM",
                        status: "read",
                        date: "Today",
                        file: {
                            name: "Campaign-Brief-Summer-2024.pdf",
                            size: "2.4 MB",
                            type: "pdf"
                        }
                    },
                    {
                        id: 3,
                        sender: "influencer",
                        content: "Thank you for reaching out! The campaign sounds amazing and perfectly aligns with my values. I love that you're focusing on sustainability.",
                        timestamp: "11:45 AM",
                        status: "delivered",
                        date: "Today"
                    },
                    {
                        id: 4,
                        sender: "influencer",
                        content: "I've reviewed the campaign brief and I'm excited to work on this project! My audience loves eco-friendly content. When can we schedule a call to discuss the details?",
                        timestamp: "11:47 AM",
                        status: "delivered",
                        date: "Today"
                    },
                    {
                        id: 5,
                        sender: "system",
                        content: "Campaign proposal sent - awaiting review",
                        timestamp: "11:50 AM",
                        date: "Today"
                    }
                ]
            },
            {
                id: 2,
                name: "TechCorp Marketing",
                type: "Business",
                avatar: "TC",
                status: "online",
                lastMessage: "We'd like to increase the campaign budget to $8,000. Are you available for additional content?",
                lastMessageTime: "5 min ago",
                unreadCount: 1,
                isUnread: true,
                campaign: {
                    name: "Tech Product Launch",
                    status: "active",
                    budget: "$8,000",
                    deadline: "July 20, 2024"
                },
                messages: [
                    {
                        id: 1,
                        sender: "business",
                        content: "Hi! We're launching a new tech product and would love to work with you. Your tech reviews are exactly what we're looking for.",
                        timestamp: "9:00 AM",
                        status: "read",
                        date: "Today"
                    },
                    {
                        id: 2,
                        sender: "influencer",
                        content: "I'd be interested! Can you share more details about the product and your expectations?",
                        timestamp: "9:30 AM",
                        status: "read",
                        date: "Today"
                    },
                    {
                        id: 3,
                        sender: "business",
                        content: "We'd like to increase the campaign budget to $8,000. Are you available for additional content creation including unboxing videos and detailed reviews?",
                        timestamp: "2:15 PM",
                        status: "delivered",
                        date: "Today"
                    }
                ]
            },
            {
                id: 3,
                name: "Alex Rodriguez",
                type: "Influencer",
                avatar: "AR",
                status: "offline",
                lastMessage: "Contract signed! Looking forward to creating amazing content for your brand.",
                lastMessageTime: "1 hour ago",
                unreadCount: 0,
                isUnread: false,
                campaign: {
                    name: "Fitness Equipment Promo",
                    status: "active",
                    budget: "$3,500",
                    deadline: "July 25, 2024"
                },
                messages: [
                    {
                        id: 1,
                        sender: "business",
                        content: "Alex, we've prepared the contract for the fitness equipment campaign. Please review and let us know if you have any questions.",
                        timestamp: "Yesterday 4:30 PM",
                        status: "read",
                        date: "Yesterday"
                    },
                    {
                        id: 2,
                        sender: "influencer",
                        content: "Contract signed! Looking forward to creating amazing content for your brand. When will the equipment be shipped?",
                        timestamp: "Yesterday 6:45 PM",
                        status: "read",
                        date: "Yesterday",
                        file: {
                            name: "Signed-Contract-Fitness-Campaign.pdf",
                            size: "1.8 MB",
                            type: "pdf"
                        }
                    }
                ]
            },
            {
                id: 4,
                name: "Beauty Brands Inc",
                type: "Business",
                avatar: "BB",
                status: "online",
                lastMessage: "We loved your content! Here's the payment for the completed campaign.",
                lastMessageTime: "2 hours ago",
                unreadCount: 0,
                isUnread: false,
                campaign: {
                    name: "Skincare Launch",
                    status: "completed",
                    budget: "$4,200",
                    deadline: "June 30, 2024"
                },
                messages: [
                    {
                        id: 1,
                        sender: "business",
                        content: "We loved your content! Here's the payment for the completed campaign. Thank you for the amazing collaboration!",
                        timestamp: "12:30 PM",
                        status: "read",
                        date: "Today"
                    },
                    {
                        id: 2,
                        sender: "influencer",
                        content: "Thank you so much! It was a pleasure working with your team. Looking forward to future collaborations!",
                        timestamp: "1:15 PM",
                        status: "delivered",
                        date: "Today"
                    }
                ]
            },
            {
                id: 5,
                name: "Maya Chen",
                type: "Influencer",
                avatar: "MC",
                status: "online",
                lastMessage: "I have some initial ideas for the food photography campaign. Would you like to see them?",
                lastMessageTime: "3 hours ago",
                unreadCount: 0,
                isUnread: false,
                campaign: {
                    name: "Gourmet Food Photography",
                    status: "pending",
                    budget: "$2,800",
                    deadline: "August 5, 2024"
                },
                messages: [
                    {
                        id: 1,
                        sender: "business",
                        content: "Hi Maya! We're interested in your food photography services for our new restaurant campaign.",
                        timestamp: "11:00 AM",
                        status: "read",
                        date: "Today"
                    },
                    {
                        id: 2,
                        sender: "influencer",
                        content: "I have some initial ideas for the food photography campaign. Would you like to see them?",
                        timestamp: "11:30 AM",
                        status: "read",
                        date: "Today"
                    }
                ]
            },
            {
                id: 6,
                name: "Fashion Forward Co",
                type: "Business",
                avatar: "FF",
                status: "offline",
                lastMessage: "The campaign metrics look great! 15% engagement rate and 50K impressions.",
                lastMessageTime: "1 day ago",
                unreadCount: 0,
                isUnread: false,
                campaign: {
                    name: "Spring Collection Launch",
                    status: "completed",
                    budget: "$6,500",
                    deadline: "June 15, 2024"
                },
                messages: [
                    {
                        id: 1,
                        sender: "business",
                        content: "The campaign metrics look great! 15% engagement rate and 50K impressions. Fantastic work!",
                        timestamp: "Yesterday 3:20 PM",
                        status: "read",
                        date: "Yesterday"
                    }
                ]
            }
        ];

        // Common emojis for the picker
        const commonEmojis = [
            'üòä', 'üòÇ', 'ü§î', 'üëç', 'üëé', '‚ù§Ô∏è', 'üî•', 'üíØ', 'üëè', 'üéâ',
            'üòç', 'ü•∞', 'üòò', 'üòé', 'ü§ù', 'üí™', 'üôå', '‚ú®', '‚≠ê', 'üåü',
            'üí°', 'üéØ', 'üöÄ', 'üìà', 'üí∞', 'üèÜ', 'üéä', 'ü•≥', 'üíØ', 'üî•',
            'üì∏', 'üé¨', 'üì±', 'üíª', 'üìä', 'üìù', '‚úÖ', '‚ùå', '‚ö°', 'üåà'
        ];

        // Current active conversation
        let currentConversation = null;
        let rightSidebarCollapsed = false;

        // Initialize the application
        function init() {
            populateConversations();
            populateEmojiPicker();
            setupEventListeners();
            // Auto-select first conversation
            if (conversations.length > 0) {
                selectConversation(conversations[0].id);
            }
        }

        // Populate conversations list
        function populateConversations() {
            const conversationsList = document.getElementById('conversationsList');
            conversationsList.innerHTML = '';

            conversations.forEach(conversation => {
                const conversationElement = document.createElement('div');
                conversationElement.className = `conversation-item ${conversation.isUnread ? 'unread' : ''}`;
                conversationElement.dataset.id = conversation.id;
                conversationElement.onclick = () => selectConversation(conversation.id);

                conversationElement.innerHTML = `
                    <div class="conversation-header">
                        <div class="conversation-user">
                            <div class="avatar">
                                ${conversation.avatar}
                                <div class="status-indicator ${conversation.status}"></div>
                            </div>
                            <div class="conversation-info">
                                <div class="conversation-name">${conversation.name}</div>
                                <div class="conversation-type">${conversation.type}</div>
                            </div>
                        </div>
                        <div class="conversation-meta">
                            <div class="conversation-time">${conversation.lastMessageTime}</div>
                            ${conversation.unreadCount > 0 ? `<div class="unread-count">${conversation.unreadCount}</div>` : ''}
                        </div>
                    </div>
                    <div class="conversation-preview">${conversation.lastMessage}</div>
                `;

                conversationsList.appendChild(conversationElement);
            });
        }

        // Select a conversation
        function selectConversation(conversationId) {
            currentConversation = conversations.find(c => c.id === conversationId);
            if (!currentConversation) return;

            // Update active conversation in sidebar
            document.querySelectorAll('.conversation-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelector(`[data-id="${conversationId}"]`).classList.add('active');

            // Update chat header
            document.getElementById('chatHeaderName').textContent = currentConversation.name;
            document.getElementById('chatHeaderStatus').textContent = 
                `${currentConversation.type} ‚Ä¢ ${currentConversation.status === 'online' ? 'Online' : 'Last seen recently'}`;

            // Load messages
            loadMessages();
            
            // Update right sidebar
            updateRightSidebar();

            // Mark as read
            if (currentConversation.isUnread) {
                currentConversation.isUnread = false;
                currentConversation.unreadCount = 0;
                populateConversations();
            }

            // Show typing indicator occasionally
            if (Math.random() > 0.7) {
                showTypingIndicator();
            }
        }

        // Load messages for current conversation
        function loadMessages() {
            const messagesContainer = document.getElementById('chatMessages');
            messagesContainer.innerHTML = '';

            if (!currentConversation) return;

            let currentDate = '';
            currentConversation.messages.forEach((message, index) => {
                // Add date separator
                if (message.date !== currentDate) {
                    currentDate = message.date;
                    const dateElement = document.createElement('div');
                    dateElement.className = 'message-date';
                    dateElement.textContent = message.date;
                    messagesContainer.appendChild(dateElement);
                }

                // Create message element
                const messageElement = document.createElement('div');
                
                if (message.sender === 'system') {
                    messageElement.className = 'system-message';
                    messageElement.textContent = message.content;
                } else {
                    messageElement.className = `message ${message.sender === 'business' ? 'sent' : 'received'}`;
                    
                    const avatar = message.sender === 'business' ? 'You' : currentConversation.avatar;
                    const statusText = message.status === 'read' ? 'Read' : 
                                     message.status === 'delivered' ? 'Delivered' : 'Sent';
                    
                    messageElement.innerHTML = `
                        <div class="message-avatar">${avatar}</div>
                        <div class="message-content">
                            <div class="message-bubble">
                                ${message.content}
                                ${message.file ? `
                                    <div class="message-file">
                                        <div class="file-icon">${message.file.type === 'pdf' ? 'üìÑ' : 'üìÅ'}</div>
                                        <div class="file-info">
                                            <div class="file-name">${message.file.name}</div>
                                            <div class="file-size">${message.file.size}</div>
                                        </div>
                                    </div>
                                ` : ''}
                            </div>
                            <div class="message-meta">
                                <span class="message-time">${message.timestamp}</span>
                                ${message.sender === 'business' ? `<span class="message-status ${message.status}">${statusText}</span>` : ''}
                            </div>
                        </div>
                    `;
                }

                messagesContainer.appendChild(messageElement);
            });

            // Add campaign message if relevant
            if (currentConversation.campaign && currentConversation.campaign.status === 'pending') {
                const campaignMessage = document.createElement('div');
                campaignMessage.className = 'campaign-message';
                campaignMessage.innerHTML = `
                    <h4>üìã Campaign Proposal</h4>
                    <p>Campaign: ${currentConversation.campaign.name}<br>
                    Budget: ${currentConversation.campaign.budget}<br>
                    Deadline: ${currentConversation.campaign.deadline}</p>
                    <div class="campaign-actions">
                        <button class="campaign-action" onclick="acceptCampaign()">Accept</button>
                        <button class="campaign-action" onclick="negotiateCampaign()">Negotiate</button>
                        <button class="campaign-action" onclick="declineCampaign()">Decline</button>
                    </div>
                `;
                messagesContainer.appendChild(campaignMessage);
            }

            // Scroll to bottom
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // Show typing indicator
        function showTypingIndicator() {
            const messagesContainer = document.getElementById('chatMessages');
            const typingIndicator = document.createElement('div');
            typingIndicator.className = 'typing-indicator';
            typingIndicator.innerHTML = `
                <div class="message-avatar">${currentConversation.avatar}</div>
                <div class="typing-dots">
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                </div>
            `;
            messagesContainer.appendChild(typingIndicator);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;

            // Remove after 3 seconds
            setTimeout(() => {
                typingIndicator.remove();
            }, 3000);
        }

        // Update right sidebar
        function updateRightSidebar() {
            const rightSidebarContent = document.getElementById('rightSidebarContent');
            
            if (!currentConversation) {
                rightSidebarContent.innerHTML = '<div class="system-message">Select a conversation to view details</div>';
                return;
            }

            rightSidebarContent.innerHTML = `
                <div class="contact-info">
                    <div class="contact-avatar">${currentConversation.avatar}</div>
                    <div class="contact-name">${currentConversation.name}</div>
                    <div class="contact-title">${currentConversation.type}</div>
                    <div class="contact-actions">
                        <button class="contact-action" onclick="viewProfile()">View Profile</button>
                        <button class="contact-action" onclick="scheduleMeeting()">Schedule Call</button>
                    </div>
                </div>

                <div class="info-section">
                    <h3>Campaign Details</h3>
                    <div class="info-item">
                        <span class="info-label">Campaign</span>
                        <span class="info-value">${currentConversation.campaign.name}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Budget</span>
                        <span class="info-value">${currentConversation.campaign.budget}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Deadline</span>
                        <span class="info-value">${currentConversation.campaign.deadline}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Status</span>
                        <span class="info-value">
                            <span class="campaign-status ${currentConversation.campaign.status}">
                                ${currentConversation.campaign.status}
                            </span>
                        </span>
                    </div>
                </div>

                <div class="info-section">
                    <h3>Contact Information</h3>
                    <div class="info-item">
                        <span class="info-label">Status</span>
                        <span class="info-value">${currentConversation.status === 'online' ? 'Online' : 'Offline'}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Type</span>
                        <span class="info-value">${currentConversation.type}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Timezone</span>
                        <span class="info-value">EST (UTC-5)</span>
                    </div>
                </div>

                <div class="shared-files">
                    <h3>Shared Files</h3>
                    <div class="file-item">
                        <div class="file-item-icon">üìÑ</div>
                        <div class="file-item-info">
                            <div class="file-item-name">Campaign Brief.pdf</div>
                            <div class="file-item-size">2.4 MB</div>
                        </div>
                    </div>
                    <div class="file-item">
                        <div class="file-item-icon">üìÑ</div>
                        <div class="file-item-info">
                            <div class="file-item-name">Contract.pdf</div>
                            <div class="file-item-size">1.8 MB</div>
                        </div>
                    </div>
                    <div class="file-item">
                        <div class="file-item-icon">üñºÔ∏è</div>
                        <div class="file-item-info">
                            <div class="file-item-name">Brand Guidelines.png</div>
                            <div class="file-item-size">856 KB</div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Populate emoji picker
        function populateEmojiPicker() {
            const emojiGrid = document.getElementById('emojiGrid');
            commonEmojis.forEach(emoji => {
                const emojiButton = document.createElement('button');
                emojiButton.className = 'emoji-item';
                emojiButton.textContent = emoji;
                emojiButton.onclick = () => insertEmoji(emoji);
                emojiGrid.appendChild(emojiButton);
            });
        }

        // Setup event listeners
        function setupEventListeners() {
            // Message input auto-resize
            const messageInput = document.getElementById('messageInput');
            messageInput.addEventListener('input', function() {
                this.style.height = 'auto';
                this.style.height = this.scrollHeight + 'px';
                
                // Enable/disable send button
                const sendButton = document.getElementById('sendButton');
                sendButton.disabled = this.value.trim() === '';
            });

            // Send message on Enter (but not Shift+Enter)
            messageInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage();
                }
            });

            // Filter tabs
            document.querySelectorAll('.filter-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('.filter-tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    filterConversations(this.dataset.filter);
                });
            });

            // Search conversations
            document.getElementById('searchInput').addEventListener('input', function() {
                searchConversations(this.value);
            });

            // Click outside to close emoji picker
            document.addEventListener('click', function(e) {
                const emojiPicker = document.getElementById('emojiPicker');
                if (!e.target.closest('.input-actions') && !e.target.closest('.emoji-picker')) {
                    emojiPicker.classList.remove('show');
                }
            });
        }

        // Send message
        function sendMessage() {
            const messageInput = document.getElementById('messageInput');
            const message = messageInput.value.trim();
            
            if (!message || !currentConversation) return;

            // Add message to current conversation
            const newMessage = {
                id: Date.now(),
                sender: 'business',
                content: message,
                timestamp: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),
                status: 'sent',
                date: 'Today'
            };

            currentConversation.messages.push(newMessage);
            currentConversation.lastMessage = message;
            currentConversation.lastMessageTime = 'Just now';

            // Clear input
            messageInput.value = '';
            messageInput.style.height = 'auto';
            document.getElementById('sendButton').disabled = true;

            // Reload messages and conversations
            loadMessages();
            populateConversations();

            // Show notification
            showNotification('Message sent successfully!');

            // Simulate response after 2-5 seconds
            setTimeout(() => {
                simulateResponse();
            }, Math.random() * 3000 + 2000);
        }

        // Simulate response from the other party
        function simulateResponse() {
            if (!currentConversation) return;

            const responses = [
                "Thanks for the update! I'll review this and get back to you soon.",
                "This looks great! I'm excited to move forward with this.",
                "I have a few questions about this. Can we schedule a call?",
                "Perfect! I'll start working on this right away.",
                "Could you provide more details about the timeline?",
                "I love this direction! When do you need the first draft?",
                "Thanks for clarifying. I'll make those adjustments.",
                "This aligns perfectly with my content strategy!"
            ];

            const randomResponse = responses[Math.floor(Math.random() * responses.length)];
            
            const responseMessage = {
                id: Date.now(),
                sender: 'influencer',
                content: randomResponse,
                timestamp: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),
                status: 'delivered',
                date: 'Today'
            };

            currentConversation.messages.push(responseMessage);
            currentConversation.lastMessage = randomResponse;
            currentConversation.lastMessageTime = 'Just now';

            loadMessages();
            populateConversations();
            showNotification(`New message from ${currentConversation.name}`);
        }

        // Toggle emoji picker
        function toggleEmojiPicker() {
            const emojiPicker = document.getElementById('emojiPicker');
            emojiPicker.classList.toggle('show');
        }

        // Insert emoji
        function insertEmoji(emoji) {
            const messageInput = document.getElementById('messageInput');
            const cursorPosition = messageInput.selectionStart;
            const text = messageInput.value;
            
            messageInput.value = text.slice(0, cursorPosition) + emoji + text.slice(cursorPosition);
            messageInput.focus();
            messageInput.setSelectionRange(cursorPosition + emoji.length, cursorPosition + emoji.length);
            
            // Trigger input event to resize textarea
            messageInput.dispatchEvent(new Event('input'));
            
            // Close emoji picker
            document.getElementById('emojiPicker').classList.remove('show');
        }

        // Attach file
        function attachFile() {
            const input = document.createElement('input');
            input.type = 'file';
            input.multiple = true;
            input.accept = '.pdf,.doc,.docx,.png,.jpg,.jpeg,.gif,.mp4,.mov';
            
            input.onchange = function(e) {
                const files = Array.from(e.target.files);
                files.forEach(file => {
                    const fileMessage = {
                        id: Date.now() + Math.random(),
                        sender: 'business',
                        content: `Shared a file: ${file.name}`,
                        timestamp: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),
                        status: 'sent',
                        date: 'Today',
                        file: {
                            name: file.name,
                            size: formatFileSize(file.size),
                            type: file.type.includes('pdf') ? 'pdf' : 'file'
                        }
                    };
                    
                    currentConversation.messages.push(fileMessage);
                    currentConversation.lastMessage = `Shared a file: ${file.name}`;
                    currentConversation.lastMessageTime = 'Just now';
                });
                
                loadMessages();
                populateConversations();
                showNotification('File(s) uploaded successfully!');
            };
            
            input.click();
        }

        // Format file size
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        // Filter conversations
        function filterConversations(filter) {
            const conversationItems = document.querySelectorAll('.conversation-item');
            
            conversationItems.forEach(item => {
                const conversationId = parseInt(item.dataset.id);
                const conversation = conversations.find(c => c.id === conversationId);
                
                let show = true;
                switch(filter) {
                    case 'business':
                        show = conversation.type === 'Business';
                        break;
                    case 'influencer':
                        show = conversation.type === 'Influencer';
                        break;
                    case 'unread':
                        show = conversation.isUnread;
                        break;
                    case 'all':
                    default:
                        show = true;
                }
                
                item.style.display = show ? 'block' : 'none';
            });
        }

        // Search conversations
        function searchConversations(query) {
            const conversationItems = document.querySelectorAll('.conversation-item');
            
            conversationItems.forEach(item => {
                const conversationId = parseInt(item.dataset.id);
                const conversation = conversations.find(c => c.id === conversationId);
                
                const searchText = `${conversation.name} ${conversation.lastMessage}`.toLowerCase();
                const show = searchText.includes(query.toLowerCase());
                
                item.style.display = show ? 'block' : 'none';
            });
        }

        // Toggle right sidebar
        function toggleRightSidebar() {
            const rightSidebar = document.getElementById('sidebarRight');
            rightSidebarCollapsed = !rightSidebarCollapsed;
            rightSidebar.classList.toggle('collapsed', rightSidebarCollapsed);
        }

        // Toggle mobile menu
        function toggleMobileMenu() {
            const sidebarLeft = document.getElementById('sidebarLeft');
            sidebarLeft.classList.toggle('mobile-open');
        }

        // Campaign actions
        function acceptCampaign() {
            if (currentConversation) {
                currentConversation.campaign.status = 'active';
                updateRightSidebar();
                showNotification('Campaign accepted!');
            }
        }

        function negotiateCampaign() {
            showNotification('Opening negotiation dialog...');
        }

        function declineCampaign() {
            if (currentConversation) {
                currentConversation.campaign.status = 'declined';
                updateRightSidebar();
                showNotification('Campaign declined');
            }
        }

        // Header actions
        function searchMessages() {
            const query = prompt('Search messages:');
            if (query) {
                showNotification(`Searching for "${query}"...`);
            }
        }

        function viewProfile() {
            if (currentConversation) {
                showNotification(`Opening ${currentConversation.name}'s profile...`);
            }
        }

        function scheduleMeeting() {
            if (currentConversation) {
                showNotification(`Opening calendar to schedule with ${currentConversation.name}...`);
            }
        }

        // Show notification
        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Initialize the application when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>